<?php
$page_title = "Contact";
include('include/header.php');

// Initialize variables
$message = '';
$messageClass = '';

// Contact form processing
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $name = isset($_POST['name']) ? htmlspecialchars($_POST['name']) : '';
    $email = isset($_POST['email']) ? htmlspecialchars($_POST['email']) : '';
    $subject = isset($_POST['subject']) ? htmlspecialchars($_POST['subject']) : '';
    $message_content = isset($_POST['message']) ? htmlspecialchars($_POST['message']) : '';
    
    // Simple field validation
    if (empty($name) || empty($email) || empty($subject) || empty($message_content)) {
        $message = "Please fill in all the form fields.";
        $messageClass = "error-message neon-text";
    } else {
        // Successful submission simulation
        $message = "Thank you for your message, " . $name . "! SynthKid will respond to you very soon.";
        $messageClass = "success-message neon-text-cyan";
        
        // Reset form variables
        $name = $email = $subject = $message_content = '';
    }
}
?>

<div class="synthwave-grid">
    <div class="grid-floor"></div>
</div>

<h2 class="neon-text">Contact Us</h2>

<section class="contact-section">
    <div class="neon-border" style="padding: 20px; margin-bottom: 30px;">
        <p>Do you have a question about NeonPulse Arcade? Want to suggest a new retro game? Or maybe you just want to share your 80s nostalgia? Contact SynthKid and the NeonPulse team using this form!</p>
    </div>
    
    <?php if(!empty($message)): ?>
    <div class="<?php echo $messageClass; ?>" style="padding: 15px; margin-bottom: 20px; text-align: center;">
        <?php echo $message; ?>
    </div>
    <?php else: ?>
    
    <form method="post" action="<?php echo htmlspecialchars($_SERVER["PHP_SELF"]); ?>" class="contact-form neon-border-cyan">
        <div class="form-group">
            <label for="name">Your name:</label>
            <input type="text" id="name" name="name" class="form-control" value="<?php echo isset($name) ? $name : ''; ?>">
        </div>
        
        <div class="form-group">
            <label for="email">Your email:</label>
            <input type="email" id="email" name="email" class="form-control" value="<?php echo isset($email) ? $email : ''; ?>">
        </div>
        
        <div class="form-group">
            <label for="subject">Subject:</label>
            <input type="text" id="subject" name="subject" class="form-control" value="<?php echo isset($subject) ? $subject : ''; ?>">
        </div>
        
        <div class="form-group">
            <label for="message">Your message:</label>
            <textarea id="message" name="message" class="form-control" rows="6"><?php echo isset($message_content) ? $message_content : ''; ?></textarea>
        </div>
        
        <div style="text-align: center;">
            <button type="submit" class="retro-btn">Send</button>
            <button type="reset" class="retro-btn-cyan" style="margin-left: 15px;">Reset</button>
        </div>
    </form>
    <?php endif; ?>
</section>

<section class="contact-info" style="margin-top: 40px;">
    <h3 class="neon-text-cyan">Other Ways to Contact Us</h3>
    
    <div class="info-container" style="display: flex; flex-wrap: wrap; justify-content: space-between; margin-top: 30px;">
        <div class="info-box neon-border" style="flex: 1; min-width: 250px; margin: 10px; padding: 20px; text-align: center;">
            <h4 class="neon-text">Virtual Arcade Address</h4>
            <p>Cyberspace, Sector 8<br>
            Grid 42, Node 1984<br>
            Digital District</p>
        </div>
        
        <div class="info-box neon-border" style="flex: 1; min-width: 250px; margin: 10px; padding: 20px; text-align: center;">
            <h4 class="neon-text">Direct Contact</h4>
            <p>Email: synthkid@neonpulse.local<br>
            BBS: 555-NEON-PULSE<br>
            IRC: #neonpulse</p>
        </div>
        
        <div class="info-box neon-border" style="flex: 1; min-width: 250px; margin: 10px; padding: 20px; text-align: center;">
            <h4 class="neon-text">Opening Hours</h4>
            <p>Our virtual arcade is open 24/7<br>
            Technical support: 10am - 10pm<br>
            Every day</p>
        </div>
    </div>
</section>

<div style="text-align: center; margin: 40px 0;">
    <div class="synthwave-sun"></div>
    <a href="games.php" class="retro-btn" style="margin-top: 20px;">Back to Games</a>
</div>

<style>
/* Styles specific to the contact page */
.contact-form {
    padding: 25px;
    background-color: rgba(0, 0, 0, 0.5);
}

.error-message {
    background-color: rgba(255, 0, 0, 0.2);
    border: 1px solid #ff0055;
    text-shadow: 0 0 5px #ff0055;
}

.success-message {
    background-color: rgba(0, 255, 255, 0.2);
    border: 1px solid #00ffff;
    text-shadow: 0 0 5px #00ffff;
}

.info-box {
    transition: all 0.3s ease;
}

.info-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 15px var(--primary-color);
}

@media (max-width: 768px) {
    .info-container {
        flex-direction: column;
    }
}
</style>

<?php include('include/footer.php'); ?>